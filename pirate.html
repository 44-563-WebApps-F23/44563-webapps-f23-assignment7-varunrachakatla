<!DOCTYPE html>
<html>
    <head>
        <title>My seventh Assignment pirate webpage - arrrrrrr</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" 
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" 
          integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" 
          integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
          <style>
            .-bottom-padding{
                padding-top:20px;
                padding-bottom: 20px;
            }
          </style>
    </head>
    <body>
        <div class="container">
            <h2>Find the treasure by Varunraj Rachakatla</h2>
            <div>
                <p>Click on the locations to search for treasure, beware the traps</p>
                <p id="locations">Number of locations checked is zero.</p>
                <p id="penalty" style="color:red;">Penalty is zero</p>
                <p style="color:blue;" onclick="help()">Click for help.</p>
                <p id="help">Help report</p>
            </div>
        </div>
        <div class="container">
            <div class="row -bottom-padding">
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_1" onclick="check(0)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_2" onclick="check(1)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_3" onclick="check(2)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_4" onclick="check(3)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_5" onclick="check(4)"/></div>
            </div>
        </div>
        <div class="container">
            <div class="row -bottom-padding">
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_6" onclick="check(5)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_7" onclick="check(6)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_8" onclick="check(7)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_9" onclick="check(8)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_10" onclick="check(9)"/></div>
            </div>
        </div>
        <div class="container">
            <div class="row -bottom-padding">
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_11" onclick="check(10)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_12" onclick="check(11)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_13" onclick="check(12)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_14" onclick="check(13)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_15" onclick="check(14)"/></div>
            </div>
        </div>
        <div class="container">
            <div class="row -bottom-padding">
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_16" onclick="check(15)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_17" onclick="check(16)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_18" onclick="check(17)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_19" onclick="check(18)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_20" onclick="check(19)"/></div>
            </div>
        </div>
        <div class="container">
            <div class="row -bottom-padding">
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_21" onclick="check(20)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_22" onclick="check(21)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_23" onclick="check(22)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_24" onclick="check(23)"/></div>
                <div class="col"><img src="house.jpg" alt="starting_location" width="200" height="200" id="img_25" onclick="check(24)"/></div>
            </div>
        </div>
        <script>
            var ids =  ["img_1","img_2","img_3","img_4","img_5","img_6","img_7","img_8","img_9","img_10","img_11","img_12","img_13","img_14","img_15","img_16","img_17","img_18","img_19","img_20","img_21","img_22","img_23","img_24","img_25"];
            var checkCount = 0;
            var penalty = 0;
            var lastCheck = 0;
            var treasureLocation = 15;
            var trapLocation = 18;
            var gameOver = false;
            function check(position){
                if(!gameOver){
                    let image_id = ids[position];
                    let element = document.getElementById(image_id);
                    if(position === treasureLocation){
                        element.src = "./onepiece.jpg";
                        gameOver = true;
                        penalty = penalty -3;
                    }
                    else if(position === trapLocation){
                        element.src = "./trap (2).jpg";
                        gameOver =true;
                        penalty = penalty +4;
                    }
                    else {
                        element.src = "./pirate.jpg";
                    }
                    checkCount++;
                    penalty++;
                    if(penalty<0)
                        penalty =0;
                    let locationsElement = document.getElementById("locations");
                    locationsElement.innerHTML="Number of locations checked is "+checkCount;
                    let penaltyElement = document.getElementById("penalty");
                    penaltyElement.innerHTML= "Penalty is "+penalty;
                    lastCheck = position;
                }
            }

            function help(){
                const lastRow = Math.floor(lastCheck / 5);
                const lastCol = lastCheck % 5;
                const treasureRow = Math.floor(treasureLocation / 5);
                const treasureCol = treasureLocation % 5;
                let rowDifference = Math.abs(treasureRow - lastRow);
                let colDifference = Math.abs(treasureCol - lastCol);
                if ((rowDifference === 1 && colDifference === 0) || (rowDifference === 0 && colDifference === 1)) {
                    document.getElementById("help").textContent = "Can smell it";
                } 
                else if (rowDifference + colDifference === 2) {
                    document.getElementById("help").textContent = "Close Matie";   
                } 
                else {
                    document.getElementById("help").textContent = "Step Faster";
                }
                penalty += 2;
                document.getElementById("penalty").textContent = "Penalty is "+penalty;
            }
        </script>
    </body>
</html>